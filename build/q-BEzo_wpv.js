import{A as b,o as K,v as p,_ as m,g as z,Q as C,q as G,j as d,C as g,p as n,S as A,R as $,H as X}from"./q-SMsUJ5It.js";import{a as N}from"./q-QLjAsgXu.js";import{B as W}from"./q-uQWWo_8r.js";import{C as Y}from"./q-PU5VCL94.js";import{M as Z}from"./q-zesqv_Bu.js";import{T as V}from"./q-SZO4A645.js";const J=typeof btoa=="function",L=typeof Buffer=="function";typeof TextDecoder=="function"&&new TextDecoder;const q=typeof TextEncoder=="function"?new TextEncoder:void 0,ee="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",w=Array.prototype.slice.call(ee);(e=>{let t={};return e.forEach((a,s)=>t[a]=s),t})(w);const _=String.fromCharCode.bind(String);typeof Uint8Array.from=="function"&&Uint8Array.from.bind(Uint8Array);const Q=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),te=e=>{let t,a,s,u,c="";const i=e.length%3;for(let v=0;v<e.length;){if((a=e.charCodeAt(v++))>255||(s=e.charCodeAt(v++))>255||(u=e.charCodeAt(v++))>255)throw new TypeError("invalid character found");t=a<<16|s<<8|u,c+=w[t>>18&63]+w[t>>12&63]+w[t>>6&63]+w[t&63]}return i?c.slice(0,i-3)+"===".substring(i):c},M=J?e=>btoa(e):L?e=>Buffer.from(e,"binary").toString("base64"):te,I=L?e=>Buffer.from(e).toString("base64"):e=>{let a=[];for(let s=0,u=e.length;s<u;s+=4096)a.push(_.apply(null,e.subarray(s,s+4096)));return M(a.join(""))},j=(e,t=!1)=>t?Q(I(e)):I(e),ae=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?_(192|t>>>6)+_(128|t&63):_(224|t>>>12&15)+_(128|t>>>6&63)+_(128|t&63)}else{var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return _(240|t>>>18&7)+_(128|t>>>12&63)+_(128|t>>>6&63)+_(128|t&63)}},se=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,ne=e=>e.replace(se,ae),H=L?e=>Buffer.from(e,"utf8").toString("base64"):q?e=>I(q.encode(e)):e=>M(ne(e)),B=(e,t=!1)=>t?Q(H(e)):H(e),re=async(e,t)=>{const[a,s,u,c,i,v]=b();c.value=void 0,i.value=!0;try{const l=new FormData(t),r=a.value,x=[];for(let o=0;o<r;o++){const f=l.get(`${o}-type`),E=await v(f,l.get(`${o}-inputText`)),T=l.getAll(`${o}-inputFile`);let P="";if(T.length>1){const F=await Promise.all(T.map(async y=>await y.text()));P=B(F.reduce((y,S)=>y+`

`+S))}else T.length!=0&&(P=await s(T[0]));const U=P.length>0?P:E;let D="",R="";if(f=="H"){const F=B(l.get(`${o}-inputENDCText`)),y=await s(l.get(`${o}-inputENDCFile`));D=y.length>0?y:F;const S=B(l.get(`${o}-inputNRText`)),O=await s(l.get(`${o}-inputNRFile`));R=O.length>0?O:S}const k=l.get(`${o}-description`);u?x.push({type:f,inputs:[U,D,R],subTypes:["LTE","ENDC","NR"],description:k}):x.push({type:f,input:U,inputENDC:D,inputNR:R,multiple0xB826:!0,description:k})}if(u){const o="/parse/multi",f=await N.post(o,x);history.pushState({},"","/view/multi/?id="+f.data.id),window.addEventListener("popstate",()=>{c.value=void 0,i.value=!1},{once:!0});const E=f.data;i.value=!1,c.value=E.capabilitiesList}else{const o="/parse/",f=await N.post(o,x[0]);history.pushState({},"","/view/?id="+f.data.id),window.addEventListener("popstate",()=>{c.value=void 0,i.value=!1},{once:!0});const E=f.data;i.value=!1,c.value=[E]}}catch(l){console.error(l),i.value=!1,alert(l)}},oe=async e=>{const t=await e.arrayBuffer();return j(new Uint8Array(t))},le=async()=>{const[e]=b(),t="/parse/multi";try{const a=await N.get(t,{validateStatus:()=>!0});e.value=a.status!==404&&a.status<500}catch{e.value=!1}},ie=()=>{const[e]=b();e.value>1&&e.value--},ue=async(e,t)=>{const[a]=b();return e=="E"||e=="SHNR"||e=="P"?j(await a(t)):B(t)},ce=e=>{var s;const a=(s=e.replace(/\s|0x|,|;/g,"").toUpperCase().match(/[0-9A-Fa-f]{1,2}/g))==null?void 0:s.map(u=>parseInt(u,16));return Uint8Array.from(a??[])},fe=()=>{const[e]=b();e()},de=()=>{const[e]=b();e.value++},_e=K(p(()=>m(()=>import("./q-vmyQiCEz.js"),__vite__mapDeps([0,1,2])),"s_RxJnt3K50Co")),pe=()=>{z();const e=C(void 0),t=C(!1),a=C(1),s=C(!1),v=p(()=>m(()=>Promise.resolve().then(()=>h),void 0),"s_XNkxOB2umQE",[a,p(()=>m(()=>Promise.resolve().then(()=>h),void 0),"s_FPWv3lWNHQg"),s,e,t,p(()=>m(()=>Promise.resolve().then(()=>h),void 0),"s_GMaQow7nNzE",[p(()=>m(()=>Promise.resolve().then(()=>h),void 0),"s_Iqiy8FRI5Ek")])]);return G(p(()=>m(()=>Promise.resolve().then(()=>h),void 0),"s_Rsa6BhqxF4U",[p(()=>m(()=>Promise.resolve().then(()=>h),void 0),"s_dhAdK6R80Rc",[s])]),{strategy:"document-ready"}),d($,{children:[g("div",null,{class:A((r,x)=>x.value||r.value!==void 0?"hidden":"",[e,t])},[d(V,{addClasses:"mb-4",text:"Parser",[n]:{addClasses:n,text:n}},3,"aW_0"),g("div",null,{class:"my-[-1rem] flex flex-1 flex-col"},g("form",null,{autoComplete:"off",class:"m-auto w-full max-w-2xl",onSubmit$:v,"preventdefault:submit":!0},[[...Array(a.value).keys()].map(r=>d(_e,{prefix:`${r}-`,submitting:t,[n]:{submitting:n}},3,r)),g("div",null,{class:"flex flex-wrap gap-x-4"},[d(W,{label:"Remove",type:"button",get hidden(){return!s.value||a.value<2},onClick$:p(()=>m(()=>Promise.resolve().then(()=>h),void 0),"s_PZjg2AEq0h0",[a]),[n]:{hidden:A((r,x)=>!x.value||r.value<2,[a,s]),label:n,onClick$:n,type:n}},3,"aW_1"),d(W,{label:"Add",type:"button",get hidden(){return!s.value},onClick$:p(()=>m(()=>Promise.resolve().then(()=>h),void 0),"s_iTi9KwAcEYg",[a]),[n]:{hidden:A(r=>!r.value,[s]),label:n,onClick$:n,type:n}},3,"aW_2"),g("div",null,{class:A(r=>r.value>1&&"min-w-full"||"flex-1",[a])},d(W,{label:"Submit",type:"submit",[n]:{label:n,type:n}},3,"aW_3"),1,null)],1,null)],1,null),1,null)],1,null),e.value==null&&t.value&&g("div",null,{class:"flex flex-1 flex-col"},d(Y,{centered:!0,[n]:{centered:n}},3,"aW_4"),1,"aW_5"),e.value!==void 0&&!t.value&&d($,{children:[d(V,{text:"View",[n]:{text:n}},3,"aW_6"),d(Z,{get capabilitiesList(){return e.value},[n]:{capabilitiesList:A(r=>r.value,[e])}},3,"aW_7")]},1,"aW_8")]},1,"aW_9")},h=Object.freeze(Object.defineProperty({__proto__:null,_hW:X,s_FPWv3lWNHQg:oe,s_GMaQow7nNzE:ue,s_Iqiy8FRI5Ek:ce,s_PZjg2AEq0h0:ie,s_Rsa6BhqxF4U:fe,s_XNkxOB2umQE:re,s_dhAdK6R80Rc:le,s_iTi9KwAcEYg:de,s_wW02utqxH8E:pe},Symbol.toStringTag,{value:"Module"}));export{X as _hW,oe as s_FPWv3lWNHQg,ue as s_GMaQow7nNzE,ce as s_Iqiy8FRI5Ek,ie as s_PZjg2AEq0h0,fe as s_Rsa6BhqxF4U,re as s_XNkxOB2umQE,le as s_dhAdK6R80Rc,de as s_iTi9KwAcEYg,pe as s_wW02utqxH8E};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = ["build/q-vmyQiCEz.js","build/q-SMsUJ5It.js","build/q-HNW2zJ3Y.js"]
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}