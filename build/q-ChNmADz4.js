import{x as V,u as l,d as k,I as P,T as I,a as D,P as C,O as v,c as $,E,K as q,k as c,_ as r,H as y,$ as u,w as Q}from"./q-B2JE0ZoP.js";import{T as H,S as K,U as j}from"./q-Pv9QYSPl.js";const G=e=>{var m;const s=V(e,["_options","_valuePropIndex","onChange$","onOpenChange$","scrollOptions","loop","name","required","disabled"]),o=j(),n=l(),t=l(),a=l(),g=l(),_=l(),x=e.loop??!1,S=k(),T=`${S}-listbox`,p=P(c(()=>r(()=>Promise.resolve().then(()=>d),void 0),"s_ww527xi52pA",[e])),L=new Map((m=p.value)==null?void 0:m.map((i,R)=>[i.value,R])),b=l(e._valuePropIndex??null),f=l(e._valuePropIndex??null),h=l(!1),w=e.scrollOptions??{behavior:"instant",block:"nearest"};I(c(()=>r(()=>Promise.resolve().then(()=>d),void 0),"s_sGOKSQmGpU4",[f,L,e,b])),I(c(()=>r(()=>Promise.resolve().then(()=>d),void 0),"s_7EIf8g4thrQ",[h,e])),I(c(()=>r(()=>Promise.resolve().then(()=>d),void 0),"s_kxcASEcxnNg",[p,e,b])),I(c(()=>r(()=>Promise.resolve().then(()=>d),void 0),"s_lyiOajt0wBY",[h,e]));const A=P(c(()=>r(()=>Promise.resolve().then(()=>d),void 0),"s_7HPEVw32p0Q",[f,h,S,p,o])),O={triggerRef:t,popoverRef:a,listboxRef:g,groupRef:_,optionsSig:p,localId:S,highlightedIndexSig:f,selectedIndexSig:b,isListboxOpenSig:h,scrollOptions:w,loop:x};return D(K,O),C("div",{"aria-controls":T,"aria-expanded":$(O.isListboxOpenSig,"value"),"data-closed":O.isListboxOpenSig.value?void 0:"","data-open":O.isListboxOpenSig.value?"":void 0,ref:n,...s,children:[E(y,null,3,"xi_0"),E(H,{get options(){return e._options},get name(){return e.name},get required(){return e.required},get disabled(){return e.disabled},[q]:{disabled:v(i=>i.disabled,[e],"p0.disabled"),name:v(i=>i.name,[e],"p0.name"),options:v(i=>i._options,[e],"p0._options"),required:v(i=>i.required,[e],"p0.required")}},3,"xi_1")]},{"aria-activedescendant":v(i=>i.value,[A],"p0.value"),"aria-haspopup":"listbox",role:"combobox"},0,"xi_2")},M=()=>{const[e,s,o,n,t]=u();return s.value?t.getActiveDescendant(e.value??-1,n.value,o):""},N=()=>{const[e]=u();return e._options===void 0||e._options.length===0?[]:e._options},U=function({track:s}){const[o,n,t,a]=u(),g=s(()=>{var x;return(x=t["bind:value"])==null?void 0:x.value});if(!g)return;const _=n.get(g)??-1;_!==-1&&(a.value=_,o.value=_)},Y=function({track:s}){const[o,n]=u(),t=s(()=>{var a;return(a=n["bind:open"])==null?void 0:a.value});o.value=t??o.value},B=async function({track:s}){var a;const[o,n,t]=u();s(()=>t.value),t.value!==null&&await((a=n.onChange$)==null?void 0:a.call(n,o.value[t.value].value))},W=function({track:s}){var t;const[o,n]=u();s(()=>o.value),(t=n.onOpenChange$)==null||t.call(n,o.value)},d=Object.freeze(Object.defineProperty({__proto__:null,_hW:Q,s_7EIf8g4thrQ:Y,s_7HPEVw32p0Q:M,s_karIvJKNPKY:G,s_kxcASEcxnNg:B,s_lyiOajt0wBY:W,s_sGOKSQmGpU4:U,s_ww527xi52pA:N},Symbol.toStringTag,{value:"Module"}));export{Q as _hW,Y as s_7EIf8g4thrQ,M as s_7HPEVw32p0Q,G as s_karIvJKNPKY,B as s_kxcASEcxnNg,W as s_lyiOajt0wBY,U as s_sGOKSQmGpU4,N as s_ww527xi52pA};
