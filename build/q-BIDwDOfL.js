import{$ as v,x as k,u as a,d as V,I as P,T as f,a as C,P as D,O as r,c as $,E,K as q,k as d,_ as u,H as Q,w as H}from"./q-B2JE0ZoP.js";import{T as K,S as y,U as G}from"./q-DoZ_E8dk.js";const M=()=>{const[e]=v();return e._options===void 0||e._options.length===0?[]:e._options},N=function({track:i}){const[s,n,t,l]=v(),g=i(()=>{var x;return(x=t["bind:value"])==null?void 0:x.value});if(!g)return;const c=n.get(g)??-1;c!==-1&&(l.value=c,s.value=c)},U=async function({track:i}){var l;const[s,n,t]=v();i(()=>t.value),t.value!==null&&await((l=n.onChange$)==null?void 0:l.call(n,s.value[t.value].value))},j=function({track:i}){var t;const[s,n]=v();i(()=>s.value),(t=n.onOpenChange$)==null||t.call(n,s.value)},W=()=>{const[e,i,s,n,t]=v();return i.value?t.getActiveDescendant(e.value??-1,n.value,s):""},z=e=>{var m;const i=k(e,["_options","_valuePropIndex","onChange$","onOpenChange$","scrollOptions","loop","name","required","disabled"]),s=G(),n=a(),t=a(),l=a(),g=a(),c=a(),x=e.loop??!1,I=V(),T=`${I}-listbox`,h=P(d(()=>u(()=>Promise.resolve().then(()=>_),void 0),"s_ww527xi52pA",[e])),A=new Map((m=h.value)==null?void 0:m.map((o,R)=>[o.value,R])),S=a(e._valuePropIndex??null),b=a(e._valuePropIndex??null),O=a(!1),L=e.scrollOptions??{behavior:"instant",block:"nearest"};f(d(()=>u(()=>Promise.resolve().then(()=>_),void 0),"s_sGOKSQmGpU4",[b,A,e,S])),f(d(()=>u(()=>Promise.resolve().then(()=>_),void 0),"s_7EIf8g4thrQ",[h,e,S])),f(d(()=>u(()=>Promise.resolve().then(()=>_),void 0),"s_kxcASEcxnNg",[O,e]));const w=P(d(()=>u(()=>Promise.resolve().then(()=>_),void 0),"s_7HPEVw32p0Q",[b,O,I,h,s])),p={triggerRef:t,popoverRef:l,listboxRef:g,groupRef:c,optionsSig:h,localId:I,highlightedIndexSig:b,selectedIndexSig:S,isListboxOpenSig:O,scrollOptions:L,loop:x};return C(y,p),D("div",{"aria-controls":T,"aria-expanded":$(p.isListboxOpenSig,"value"),"data-closed":p.isListboxOpenSig.value?void 0:"","data-open":p.isListboxOpenSig.value?"":void 0,ref:n,...i,children:[E(Q,null,3,"xi_0"),E(K,{get options(){return e._options},get name(){return e.name},get required(){return e.required},get disabled(){return e.disabled},[q]:{disabled:r(o=>o.disabled,[e],"p0.disabled"),name:r(o=>o.name,[e],"p0.name"),options:r(o=>o._options,[e],"p0._options"),required:r(o=>o.required,[e],"p0.required")}},3,"xi_1")]},{"aria-activedescendant":r(o=>o.value,[w],"p0.value"),"aria-haspopup":"listbox",role:"combobox"},0,"xi_2")},_=Object.freeze(Object.defineProperty({__proto__:null,_hW:H,s_7EIf8g4thrQ:U,s_7HPEVw32p0Q:W,s_karIvJKNPKY:z,s_kxcASEcxnNg:j,s_sGOKSQmGpU4:N,s_ww527xi52pA:M},Symbol.toStringTag,{value:"Module"}));export{H as _hW,U as s_7EIf8g4thrQ,W as s_7HPEVw32p0Q,z as s_karIvJKNPKY,j as s_kxcASEcxnNg,N as s_sGOKSQmGpU4,M as s_ww527xi52pA};
