import{u as v,a as x,B as S,_ as c,f as u,g as I,q as r,h,S as y}from"./q-BllQxhLr.js";import{X as f,S as w,U as b}from"./q-DIywAcZT.js";const O=()=>{const[i]=v();i.isListboxOpenSig.value=!i.isListboxOpenSig.value},_=async i=>{const[t,e,a,n,s]=v();s.typeahead$(i.key);const o=!e.isListboxOpenSig.value&&a.includes(i.key),g=e.isListboxOpenSig.value&&t.includes(i.key);if(e.optionsSig.value){if(o&&(e.isListboxOpenSig.value=!0),g&&(e.isListboxOpenSig.value=!1),i.key==="Home"&&(e.highlightedIndexSig.value=await n.getNextEnabledOptionIndex(-1,e.optionsSig.value,e.loop)),i.key==="End"){const d=await n.getPrevEnabledOptionIndex(e.optionsSig.value.length,e.optionsSig.value,e.loop);e.highlightedIndexSig.value=d}if(!e.isListboxOpenSig.value){if(i.key==="ArrowRight"&&e.highlightedIndexSig.value===null){e.selectedIndexSig.value=await n.getNextEnabledOptionIndex(-1,e.optionsSig.value,e.loop),e.highlightedIndexSig.value=e.selectedIndexSig.value;return}if(i.key==="ArrowRight"&&e.highlightedIndexSig.value!==null&&(e.selectedIndexSig.value=await n.getNextEnabledOptionIndex(e.selectedIndexSig.value,e.optionsSig.value,e.loop),console.log("selectedIndex",e.selectedIndexSig.value),e.highlightedIndexSig.value=e.selectedIndexSig.value),i.key==="ArrowLeft"&&e.highlightedIndexSig.value===null){e.selectedIndexSig.value=await n.getPrevEnabledOptionIndex(e.optionsSig.value.length,e.optionsSig.value,e.loop),e.highlightedIndexSig.value=e.selectedIndexSig.value;return}i.key==="ArrowLeft"&&e.highlightedIndexSig.value!==null&&(e.selectedIndexSig.value=await n.getPrevEnabledOptionIndex(e.highlightedIndexSig.value,e.optionsSig.value,e.loop),e.highlightedIndexSig.value=e.selectedIndexSig.value)}if(e.highlightedIndexSig.value===null){e.highlightedIndexSig.value=await n.getNextEnabledOptionIndex(-1,e.optionsSig.value,e.loop);return}e.isListboxOpenSig.value&&!o&&(i.key==="Tab"&&(e.isListboxOpenSig.value=!1),(i.key==="Enter"||i.key===" ")&&(e.selectedIndexSig.value=e.highlightedIndexSig.value),i.key==="ArrowDown"&&(e.highlightedIndexSig.value=await n.getNextEnabledOptionIndex(e.highlightedIndexSig.value,e.optionsSig.value,e.loop)),i.key==="ArrowUp"&&(e.highlightedIndexSig.value=await n.getPrevEnabledOptionIndex(e.highlightedIndexSig.value,e.optionsSig.value,e.loop)))}},k=i=>{const t=x(w),e=b(),a=["ArrowUp","ArrowDown"],n=["Escape"],s=f(),o=r(()=>h(()=>Promise.resolve().then(()=>p),void 0),"s_0pqU0FleG04",[t]),g=S(l=>{["ArrowUp","ArrowDown","ArrowRight","ArrowLeft","Home","End","PageDown","PageUp"].includes(l.key)&&l.preventDefault()},'e=>{const keys=["ArrowUp","ArrowDown","ArrowRight","ArrowLeft","Home","End","PageDown","PageUp"];if(keys.includes(e.key)){e.preventDefault();}}'),d=r(()=>h(()=>Promise.resolve().then(()=>p),void 0),"s_AhC4ctH7QE8",[n,t,a,e,s]);return c("button",{...i,children:I(y,null,3,"VR_0"),onClick$:[o,i.onClick$],onKeyDown$:[g,d,i.onKeyDown$],ref:t.triggerRef},{"aria-expanded":u(l=>l.isListboxOpenSig.value,[t],"p0.isListboxOpenSig.value"),"data-closed":u(l=>l.isListboxOpenSig.value?void 0:"",[t],'!p0.isListboxOpenSig.value?"":undefined'),"data-open":u(l=>l.isListboxOpenSig.value?"":void 0,[t],'p0.isListboxOpenSig.value?"":undefined'),"preventdefault:blur":!0},0,"VR_1")},p=Object.freeze(Object.defineProperty({__proto__:null,s_0pqU0FleG04:O,s_AhC4ctH7QE8:_,s_QNah0rGW5hg:k},Symbol.toStringTag,{value:"Module"}));export{O as s_0pqU0FleG04,_ as s_AhC4ctH7QE8,k as s_QNah0rGW5hg};
