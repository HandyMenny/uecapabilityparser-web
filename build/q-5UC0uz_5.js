import{$ as v,P as x,t as S,O as c,M as u,E as I,q as r,_ as h,H as y}from"./q-Dk_gIsW-.js";import{X as f,S as w,U as O}from"./q-CC1jhtLR.js";const b=()=>{const[i]=v();i.isListboxOpenSig.value=!i.isListboxOpenSig.value},_=async i=>{const[n,e,a,t,s]=v();s.typeahead$(i.key);const o=!e.isListboxOpenSig.value&&a.includes(i.key),g=e.isListboxOpenSig.value&&n.includes(i.key);if(e.optionsSig.value){if(o&&(e.isListboxOpenSig.value=!0),g&&(e.isListboxOpenSig.value=!1),i.key==="Home"&&(e.highlightedIndexSig.value=await t.getNextEnabledOptionIndex(-1,e.optionsSig.value,e.loop)),i.key==="End"){const d=await t.getPrevEnabledOptionIndex(e.optionsSig.value.length,e.optionsSig.value,e.loop);e.highlightedIndexSig.value=d}if(!e.isListboxOpenSig.value){if(i.key==="ArrowRight"&&e.highlightedIndexSig.value===null){e.selectedIndexSig.value=await t.getNextEnabledOptionIndex(-1,e.optionsSig.value,e.loop),e.highlightedIndexSig.value=e.selectedIndexSig.value;return}if(i.key==="ArrowRight"&&e.highlightedIndexSig.value!==null&&(e.selectedIndexSig.value=await t.getNextEnabledOptionIndex(e.selectedIndexSig.value,e.optionsSig.value,e.loop),console.log("selectedIndex",e.selectedIndexSig.value),e.highlightedIndexSig.value=e.selectedIndexSig.value),i.key==="ArrowLeft"&&e.highlightedIndexSig.value===null){e.selectedIndexSig.value=await t.getPrevEnabledOptionIndex(e.optionsSig.value.length,e.optionsSig.value,e.loop),e.highlightedIndexSig.value=e.selectedIndexSig.value;return}i.key==="ArrowLeft"&&e.highlightedIndexSig.value!==null&&(e.selectedIndexSig.value=await t.getPrevEnabledOptionIndex(e.highlightedIndexSig.value,e.optionsSig.value,e.loop),e.highlightedIndexSig.value=e.selectedIndexSig.value)}if(e.highlightedIndexSig.value===null){e.highlightedIndexSig.value=await t.getNextEnabledOptionIndex(-1,e.optionsSig.value,e.loop);return}e.isListboxOpenSig.value&&!o&&(i.key==="Tab"&&(e.isListboxOpenSig.value=!1),(i.key==="Enter"||i.key===" ")&&(e.selectedIndexSig.value=e.highlightedIndexSig.value),i.key==="ArrowDown"&&(e.highlightedIndexSig.value=await t.getNextEnabledOptionIndex(e.highlightedIndexSig.value,e.optionsSig.value,e.loop)),i.key==="ArrowUp"&&(e.highlightedIndexSig.value=await t.getPrevEnabledOptionIndex(e.highlightedIndexSig.value,e.optionsSig.value,e.loop)))}},k=i=>{const n=x(w),e=O(),a=["ArrowUp","ArrowDown"],t=["Escape"],s=f(),o=r(()=>h(()=>Promise.resolve().then(()=>p),void 0),"s_0pqU0FleG04",[n]),g=S(l=>{["ArrowUp","ArrowDown","ArrowRight","ArrowLeft","Home","End","PageDown","PageUp"].includes(l.key)&&l.preventDefault()},'e=>{const keys=["ArrowUp","ArrowDown","ArrowRight","ArrowLeft","Home","End","PageDown","PageUp"];if(keys.includes(e.key)){e.preventDefault();}}'),d=r(()=>h(()=>Promise.resolve().then(()=>p),void 0),"s_AhC4ctH7QE8",[t,n,a,e,s]);return c("button",{...i,children:I(y,null,3,"VR_0"),onClick$:[o,i.onClick$],onKeyDown$:[g,d,i.onKeyDown$],ref:n.triggerRef},{"aria-expanded":u(l=>l.isListboxOpenSig.value,[n],"p0.isListboxOpenSig.value"),"data-closed":u(l=>l.isListboxOpenSig.value?void 0:"",[n],'!p0.isListboxOpenSig.value?"":undefined'),"data-open":u(l=>l.isListboxOpenSig.value?"":void 0,[n],'p0.isListboxOpenSig.value?"":undefined'),"preventdefault:blur":!0},0,"VR_1")},p=Object.freeze(Object.defineProperty({__proto__:null,s_0pqU0FleG04:b,s_AhC4ctH7QE8:_,s_QNah0rGW5hg:k},Symbol.toStringTag,{value:"Module"}));export{b as s_0pqU0FleG04,_ as s_AhC4ctH7QE8,k as s_QNah0rGW5hg};
