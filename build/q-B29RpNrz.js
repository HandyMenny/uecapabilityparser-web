import{w as v,x as m,y as E}from"./q-CC1jhtLR.js";import{$ as _,s as p,c as g,a as k,T as b,t as h,b as D,O as A,M,E as $,q as i,_ as c,H as O,w as P}from"./q-Dk_gIsW-.js";const T=v,L=async function({track:t,cleanup:l}){var s,d;const[a,o,n,u]=_(),w=t(()=>u.value);if(!o.value)return;const f=await a.trapFocus(o.value);if(w){const y=window.requestAnimationFrame;window.requestAnimationFrame=()=>42,await a.showModal(o.value),window.requestAnimationFrame=y,await((s=n.onShow$)==null?void 0:s.call(n)),a.activateFocusTrap(f)}else await a.closeModal(o.value),await((d=n.onClose$)==null?void 0:d.call(n));l(async()=>{await a.deactivateFocusTrap(f)})},C=async e=>{const[t,l,a,o]=_();a.alert===!0||a.closeOnBackdropClick===!1||e.target instanceof HTMLDialogElement&&await t.wasModalBackdropClicked(l.value,e)&&(o.value=!1)},F=e=>{const[t]=_();e.key==="Escape"&&(t.value=!1,e.stopPropagation())},R=async e=>{const[t]=_();e.stopPropagation(),await t(e)},q=e=>{p(i(()=>c(()=>Promise.resolve().then(()=>r),void 0),"s_6kc6yEJKobw"));const t=E(),l=g(),a=k(),{"bind:show":o}=e;b(i(()=>c(()=>Promise.resolve().then(()=>r),void 0),"s_boBpVEMpnGQ",[t,l,e,o]));const n=i(()=>c(()=>Promise.resolve().then(()=>r),void 0),"s_qbpjydAbzcE",[t,l,e,o]),u=h(s=>{const d=[" ","Enter"];s.target instanceof HTMLDialogElement&&d.includes(s.key)&&s.preventDefault(),s.key==="Escape"&&s.preventDefault()},'e=>{const keys=[" ","Enter"];if(e.target instanceof HTMLDialogElement&&keys.includes(e.key)){e.preventDefault();}if(e.key==="Escape"){e.preventDefault();}}'),w=i(()=>c(()=>Promise.resolve().then(()=>r),void 0),"s_LXwFUUWCA2U",[o]);return D(m,{localId:a}),A("dialog",{...e,children:$(O,null,3,"9p_0"),"data-closed":!o.value&&"","data-open":o.value&&"","data-state":o.value?"open":"closed",onClick$:i(()=>c(()=>Promise.resolve().then(()=>r),void 0),"s_rnAxN4ftyEs",[n]),onKeyDown$:[u,w,e.onKeyDown$],ref:l},{"aria-describedby":`${a}-description`,"aria-labelledby":`${a}-title`,id:`${a}-root`,role:M(s=>s.alert===!0?"alertdialog":"dialog",[e],'p0.alert===true?"alertdialog":"dialog"')},0,"9p_1")},r=Object.freeze(Object.defineProperty({__proto__:null,_hW:P,s_6kc6yEJKobw:T,s_LXwFUUWCA2U:F,s_VXOY7yQNLIw:q,s_boBpVEMpnGQ:L,s_qbpjydAbzcE:C,s_rnAxN4ftyEs:R},Symbol.toStringTag,{value:"Module"}));export{P as _hW,T as s_6kc6yEJKobw,F as s_LXwFUUWCA2U,q as s_VXOY7yQNLIw,L as s_boBpVEMpnGQ,C as s_qbpjydAbzcE,R as s_rnAxN4ftyEs};
