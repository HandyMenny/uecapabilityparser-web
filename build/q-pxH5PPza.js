import{w as v,x as m,y as E}from"./q-DIywAcZT.js";import{u as _,D as g,b as p,k,d as b,B as h,l as D,_ as S,f as A,g as P,q as i,h as r,S as T,i as $}from"./q-BllQxhLr.js";const L=v,M=async function({track:t,cleanup:l}){var s,d;const[a,o,n,u]=_(),f=t(()=>u.value);if(!o.value)return;const y=await a.trapFocus(o.value);if(f){const w=window.requestAnimationFrame;window.requestAnimationFrame=()=>42,await a.showModal(o.value),window.requestAnimationFrame=w,await((s=n.onShow$)==null?void 0:s.call(n)),a.activateFocusTrap(y)}else await a.closeModal(o.value),await((d=n.onClose$)==null?void 0:d.call(n));l(async()=>{await a.deactivateFocusTrap(y)})},O=async e=>{const[t,l,a,o]=_();a.alert===!0||a.closeOnBackdropClick===!1||e.target instanceof HTMLDialogElement&&await t.wasModalBackdropClicked(l.value,e)&&(o.value=!1)},x=e=>{const[t]=_();e.key==="Escape"&&(t.value=!1,e.stopPropagation())},C=async e=>{const[t]=_();e.stopPropagation(),await t(e)},q=e=>{g(i(()=>r(()=>Promise.resolve().then(()=>c),void 0),"s_6kc6yEJKobw"));const t=E(),l=p(),a=k(),{"bind:show":o}=e;b(i(()=>r(()=>Promise.resolve().then(()=>c),void 0),"s_boBpVEMpnGQ",[t,l,e,o]));const n=i(()=>r(()=>Promise.resolve().then(()=>c),void 0),"s_qbpjydAbzcE",[t,l,e,o]),u=h(s=>{const d=[" ","Enter"];s.target instanceof HTMLDialogElement&&d.includes(s.key)&&s.preventDefault(),s.key==="Escape"&&s.preventDefault()},'e=>{const keys=[" ","Enter"];if(e.target instanceof HTMLDialogElement&&keys.includes(e.key)){e.preventDefault();}if(e.key==="Escape"){e.preventDefault();}}'),f=i(()=>r(()=>Promise.resolve().then(()=>c),void 0),"s_LXwFUUWCA2U",[o]);return D(m,{localId:a}),S("dialog",{...e,children:P(T,null,3,"9p_0"),"data-closed":!o.value&&"","data-open":o.value&&"","data-state":o.value?"open":"closed",onClick$:i(()=>r(()=>Promise.resolve().then(()=>c),void 0),"s_rnAxN4ftyEs",[n]),onKeyDown$:[u,f,e.onKeyDown$],ref:l},{"aria-describedby":`${a}-description`,"aria-labelledby":`${a}-title`,id:`${a}-root`,role:A(s=>s.alert===!0?"alertdialog":"dialog",[e],'p0.alert===true?"alertdialog":"dialog"')},0,"9p_1")},c=Object.freeze(Object.defineProperty({__proto__:null,_hW:$,s_6kc6yEJKobw:L,s_LXwFUUWCA2U:x,s_VXOY7yQNLIw:q,s_boBpVEMpnGQ:M,s_qbpjydAbzcE:O,s_rnAxN4ftyEs:C},Symbol.toStringTag,{value:"Module"}));export{$ as _hW,L as s_6kc6yEJKobw,x as s_LXwFUUWCA2U,q as s_VXOY7yQNLIw,M as s_boBpVEMpnGQ,O as s_qbpjydAbzcE,C as s_rnAxN4ftyEs};
