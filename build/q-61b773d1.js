import{R as b,o as Q,h as _,_ as m,i as K,W as B,p as Y,j as d,f as g,Y as s,S as A,z as $,H as G}from"./q-0a566167.js";import{a as I}from"./q-47b9d439.js";import{B as W}from"./q-94a114a3.js";import{C as X}from"./q-bcf14b48.js";import{M as Z}from"./q-a02d9da7.js";import{T as V}from"./q-e7f49e3e.js";const J=typeof btoa=="function",N=typeof Buffer=="function";typeof TextDecoder=="function"&&new TextDecoder;const q=typeof TextEncoder=="function"?new TextEncoder:void 0,ee="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",w=Array.prototype.slice.call(ee);(e=>{let t={};return e.forEach((a,n)=>t[a]=n),t})(w);const p=String.fromCharCode.bind(String);typeof Uint8Array.from=="function"&&Uint8Array.from.bind(Uint8Array);const M=e=>e.replace(/=/g,"").replace(/[+\/]/g,t=>t=="+"?"-":"_"),te=e=>{let t,a,n,u,c="";const l=e.length%3;for(let x=0;x<e.length;){if((a=e.charCodeAt(x++))>255||(n=e.charCodeAt(x++))>255||(u=e.charCodeAt(x++))>255)throw new TypeError("invalid character found");t=a<<16|n<<8|u,c+=w[t>>18&63]+w[t>>12&63]+w[t>>6&63]+w[t&63]}return l?c.slice(0,l-3)+"===".substring(l):c},j=J?e=>btoa(e):N?e=>Buffer.from(e,"binary").toString("base64"):te,L=N?e=>Buffer.from(e).toString("base64"):e=>{let a=[];for(let n=0,u=e.length;n<u;n+=4096)a.push(p.apply(null,e.subarray(n,n+4096)));return j(a.join(""))},z=(e,t=!1)=>t?M(L(e)):L(e),ae=e=>{if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?p(192|t>>>6)+p(128|t&63):p(224|t>>>12&15)+p(128|t>>>6&63)+p(128|t&63)}else{var t=65536+(e.charCodeAt(0)-55296)*1024+(e.charCodeAt(1)-56320);return p(240|t>>>18&7)+p(128|t>>>12&63)+p(128|t>>>6&63)+p(128|t&63)}},ne=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,se=e=>e.replace(ne,ae),H=N?e=>Buffer.from(e,"utf8").toString("base64"):q?e=>L(q.encode(e)):e=>j(se(e)),C=(e,t=!1)=>t?M(H(e)):H(e),re=async(e,t)=>{const[a,n,u,c,l,x]=b();c.value=void 0,l.value=!0;try{const i=new FormData(t),r=a.value,v=[];for(let o=0;o<r;o++){const f=i.get(`${o}-type`),E=await x(f,i.get(`${o}-inputText`)),T=i.getAll(`${o}-inputFile`);let P="";if(T.length>1){const R=await Promise.all(T.map(async y=>await y.text()));P=C(R.reduce((y,S)=>y+`

`+S))}else T.length!=0&&(P=await n(T[0]));const U=P.length>0?P:E;let D="",F="";if(f=="H"){const R=C(i.get(`${o}-inputENDCText`)),y=await n(i.get(`${o}-inputENDCFile`));D=y.length>0?y:R;const S=C(i.get(`${o}-inputNRText`)),O=await n(i.get(`${o}-inputNRFile`));F=O.length>0?O:S}const k=i.get(`${o}-description`);u?v.push({type:f,inputs:[U,D,F],subTypes:["LTE","ENDC","NR"],description:k}):v.push({type:f,input:U,inputENDC:D,inputNR:F,multiple0xB826:!0,description:k})}if(u){const o="/parse/multi",f=await I.post(o,v);history.pushState({},"","/view/multi/?id="+f.data.id),window.addEventListener("popstate",()=>{c.value=void 0,l.value=!1},{once:!0});const E=f.data;l.value=!1,c.value=E.capabilitiesList}else{const o="/parse/",f=await I.post(o,v[0]);history.pushState({},"","/view/?id="+f.data.id),window.addEventListener("popstate",()=>{c.value=void 0,l.value=!1},{once:!0});const E=f.data;l.value=!1,c.value=[E]}}catch(i){console.error(i),l.value=!1,alert(i)}},oe=async e=>{const t=await e.arrayBuffer();return z(new Uint8Array(t))},ie=async()=>{const[e]=b(),t="/parse/multi";try{const a=await I.get(t,{validateStatus:()=>!0});e.value=a.status!==404&&a.status<500}catch{e.value=!1}},le=()=>{const[e]=b();e.value>1&&e.value--},ue=async(e,t)=>{const[a]=b();return e=="E"?z(await a(t)):C(t)},ce=e=>{var n;const a=(n=e.replace(/\s|0x|,|;/g,"").toUpperCase().match(/[0-9A-Fa-f]{1,2}/g))==null?void 0:n.map(u=>parseInt(u,16));return Uint8Array.from(a??[])},fe=()=>{const[e]=b();e()},de=()=>{const[e]=b();e.value++},pe=Q(_(()=>m(()=>import("./q-7d743ec9.js"),["build/q-7d743ec9.js","build/q-0a566167.js","build/q-a76d7ae0.js"]),"s_RxJnt3K50Co")),_e=()=>{K();const e=B(void 0),t=B(!1),a=B(1),n=B(!1),x=_(()=>m(()=>Promise.resolve().then(()=>h),void 0),"s_XNkxOB2umQE",[a,_(()=>m(()=>Promise.resolve().then(()=>h),void 0),"s_FPWv3lWNHQg"),n,e,t,_(()=>m(()=>Promise.resolve().then(()=>h),void 0),"s_GMaQow7nNzE",[_(()=>m(()=>Promise.resolve().then(()=>h),void 0),"s_Iqiy8FRI5Ek")])]);return Y(_(()=>m(()=>Promise.resolve().then(()=>h),void 0),"s_Rsa6BhqxF4U",[_(()=>m(()=>Promise.resolve().then(()=>h),void 0),"s_dhAdK6R80Rc",[n])]),{strategy:"document-ready"}),d($,{children:[g("div",null,{class:A((r,v)=>v.value||r.value!==void 0?"hidden":"",[e,t])},[d(V,{addClasses:"mb-4",text:"Parser",[s]:{addClasses:s,text:s}},3,"aW_0"),g("div",null,{class:"my-[-1rem] flex flex-1 flex-col"},g("form",null,{autoComplete:"off",class:"m-auto w-full max-w-2xl",onSubmit$:x,"preventdefault:submit":!0},[[...Array(a.value).keys()].map(r=>d(pe,{prefix:`${r}-`,submitting:t,[s]:{submitting:s}},3,r)),g("div",null,{class:"flex flex-wrap gap-x-4"},[d(W,{label:"Remove",type:"button",get hidden(){return!n.value||a.value<2},onClick$:_(()=>m(()=>Promise.resolve().then(()=>h),void 0),"s_PZjg2AEq0h0",[a]),[s]:{hidden:A((r,v)=>!v.value||r.value<2,[a,n]),label:s,onClick$:s,type:s}},3,"aW_1"),d(W,{label:"Add",type:"button",get hidden(){return!n.value},onClick$:_(()=>m(()=>Promise.resolve().then(()=>h),void 0),"s_iTi9KwAcEYg",[a]),[s]:{hidden:A(r=>!r.value,[n]),label:s,onClick$:s,type:s}},3,"aW_2"),g("div",null,{class:A(r=>r.value>1&&"min-w-full"||"flex-1",[a])},d(W,{label:"Submit",type:"submit",[s]:{label:s,type:s}},3,"aW_3"),1,null)],1,null)],1,null),1,null)],1,null),e.value==null&&t.value&&g("div",null,{class:"flex flex-1 flex-col"},d(X,{centered:!0,[s]:{centered:s}},3,"aW_4"),1,"aW_5"),e.value!==void 0&&!t.value&&d($,{children:[d(V,{text:"View",[s]:{text:s}},3,"aW_6"),d(Z,{get capabilitiesList(){return e.value},[s]:{capabilitiesList:A(r=>r.value,[e])}},3,"aW_7")]},1,"aW_8")]},1,"aW_9")},h=Object.freeze(Object.defineProperty({__proto__:null,_hW:G,s_FPWv3lWNHQg:oe,s_GMaQow7nNzE:ue,s_Iqiy8FRI5Ek:ce,s_PZjg2AEq0h0:le,s_Rsa6BhqxF4U:fe,s_XNkxOB2umQE:re,s_dhAdK6R80Rc:ie,s_iTi9KwAcEYg:de,s_wW02utqxH8E:_e},Symbol.toStringTag,{value:"Module"}));export{G as _hW,oe as s_FPWv3lWNHQg,ue as s_GMaQow7nNzE,ce as s_Iqiy8FRI5Ek,le as s_PZjg2AEq0h0,fe as s_Rsa6BhqxF4U,re as s_XNkxOB2umQE,ie as s_dhAdK6R80Rc,de as s_iTi9KwAcEYg,_e as s_wW02utqxH8E};
